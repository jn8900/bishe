<html>
<head>
<title>modify</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style type="text/css">
	body { background: url(images/1.png);
				background-repeat: no-repeat;
				text-align: center;
			}
	#apDiv7 {
	position: absolute;
	width: 387px;
	height: 50px;
	z-index: 1;
	left: 267px;
	font-family: "华文新魏";
	font-size: 48px;
	top: 21px;
	color: #ca0000;
	text-align: center;
}

#apDiv1 {
	position: absolute;
	width: 64px;
	height: 42px;
	z-index: 2;
	left: 254px;
	top: 96px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv2 {
	position: absolute;
	width: 141px;
	height: 42px;
	z-index: 2;
	left: 319px;
	top: 96px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv3 {
	position: absolute;
	width: 161px;
	height: 42px;
	z-index: 2;
	left: 461px;
	top: 96px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv4 {
	position: absolute;
	width: 141px;
	height: 42px;
	z-index: 2;
	left: 623px;
	top: 96px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv5 {
	position: absolute;
	width: 178px;
	height: 42px;
	z-index: 2;
	left: 765px;
	top: 96px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv6 {
	position: absolute;
	width: 61px;
	height: 42px;
	z-index: 2;
	left: 1036px;
	top: 96px;
	background-image: url(images/a1.png);
	font-family: "华文新魏";
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv8 {
	position: absolute;
	width: 78px;
	height: 64px;
	z-index: 3;
	left: 903px;
	top: 20px;
	background-image: url(images/a2.png);
}

#apDiv11 {
	position: absolute;
	width: 167px;
	height: 42px;
	z-index: 2;
	left: 88px;
	top: 146px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	font-family: "华文新魏";
	line-height: 40px;
}
	
#apDiv14 {
	position: absolute;
	width: 167px;
	height: 42px;
	z-index: 2;
	left: 89px;
	top: 199px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	font-family: "华文新魏";
	line-height: 40px;
}

#apDiv16 {
	position: absolute;
	width: 33px;
	height: 46px;
	z-index: 6;
	left: 65px;
	top: 190px;
	background-image: url(images/a3.png);
}
#apDiv17 {
	position: absolute;
	width: 34px;
	height: 46px;
	z-index: 7;
	left: 67px;
	top: 280px;
	background-image: url(images/a3.png);
}
#apDiv18 {
	position: absolute;
	width: 275px;
	height: 54px;
	z-index: 8;
	background-image: url(img/6.png);
	left: 748px;
	top: 370px;
}
#apDiv19 {
	position: absolute;
	width: 163px;
	height: 41px;
	z-index: 9;
	left: 78px;
	top: 45px;
	background-image: url(img/2.png);
}
#apDiv20 {
	position: absolute;
	width: 34px;
	height: 46px;
	z-index: 8;
	background-image: url(img/5.png);
	left: 286px;
	top: 350px;
}
#apDiv21 {
	position: absolute;
	width: 202px;
	height: 34px;
	z-index: 9;
	font-family: "华文新魏";
	font-size: 24px;
	color: #C30;
	left: 321px;
	top: 360px;
}

#apDiv9 {
	position: absolute;
	width: 91px;
	height: 42px;
	z-index: 2;
	left: 944px;
	top: 96px;
	background-image:url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	line-height: 40px;
}
#apDiv21 {
	position: absolute;
	width: 167px;
	height: 42px;
	z-index: 2;
	left: 90px;
	top: 251px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	font-family: "华文新魏";
	line-height: 40px;
}
#apDiv22 {
	position: absolute;
	width: 167px;
	height: 42px;
	z-index: 2;
	left: 89px;
	top: 302px;
	background-image: url(images/a1.png);
	font-size: 22px;
	color: #FFF;
	text-align: center;
	font-family: "华文新魏";
	line-height: 40px;
}
a:link{
	text-decoration: none;
	color: #FFF;
	font-family: "华文新魏";
	font-size: 22px;
}
a:visited{
	color:#FFF;
	text-decoration: none;
	font-family: "华文新魏";
	font-size:22px;
} 
a:hover {
	text-decoration:none;
	color:#F63; 
	font-size:22px; 
	font-family: "华文新魏";
 }
 a:active{
	text-decoration:none;
	color:#FFF; 
	font-size:22px; 
	font-family: "华文新魏";
	}
		.three{
	width: 839px;
	margin: 100px 500px;
	position: absolute;
	left: -250px;
	top: 79px;
	height: 114px;
			}
			
			div{list-style: none;}
			
.two ul{
	position: absolute;
	height: 25%;
	width: 200px;
	height: 100px;
	margin: 0 30px;
	left: -20px;
	top: 151px;
			}
.two ul li{
	line-height: 42px;
	float: center;
	text-align: center;
	list-style:none;
	margin:10px 0;
}
.two ul li a{
	display: block;
	background: url(images/a1.png);
	font-weight: bold;
}
.two ul li a:hover{
	background: url(images/a1.png);
	color: #F63;
}
</style>
</head>
<body>
<%@ page contentType="text/html;charset=gb2312"%>
<%@ page language="java" import="java.sql.*"%>
<div id="apDiv7">爱心公益网后台</div>
    
<div id="apDiv8"></div>
<div id="apDiv1"><a href="../index2.jsp">首页</a></div>
<div id="apDiv2"><a href="../user2/yhgl.html">用户信息管理</a></div>
<div id="apDiv3"><a href="../user1/yhgl.html">管理员信息管理</a></div>
<div id="apDiv4"><a href="../mjxx/mjxx.html">募捐信息管理</a></div>
<div id="apDiv9"><a href="../notice/noticegl.html">留言管理</a></div>
<div id="apDiv5"><a href="../yghdxx/yghdxx.html">义工活动信息管理</a></div>
<div id="apDiv6"><a href="../index.html">注销</div>

	    </div>
<div class="two">
		<ul>
				<li><a  href="../mjxx/mjxxchakan.jsp">查看所有募捐信息</a></li>
				<li><a href="../mjxx/mjxxadd.jsp">添加募捐信息</a></li>
				<li><a href="../mjxx/mjxxedit.jsp">更改募捐信息</a></li>
				<li><a href="../mjxx/mjxxdelete.jsp">删除募捐信息</a></li>
</ul></div>
		<div class="three">		
<!-- ImageReady Slices (modify) -->
<table>
			<jsp:useBean id="mjxxbean" scope="page" class="mydb.mydb"/>
			<form action="mjxxedit1.jsp" method="post">
			<tr>
			<td colspan="6">
			<input type="text" name="name">
			<input type="submit" value="查找">*请输入商品名</td>
			</tr>
			</form>
			<tr>
			<td width="300" align="center">品名</td>
			<td width="320" align="center">介绍</td>
			<td width="10%" align="center">品牌</td>
			<td width="120" align="center">价格</td>
			<td width="80" align="center">优惠价</td>
			<td width="60" align="center">类别</td>
			</tr>
			</table>

<%

	int prep,nextp,pageno,pagecount,pagesize,recordcount, i,j,k;

 	pagesize=7; //每页记录数
 
	 //计算记录总数 
	String sql="select count(*) from mjxxlist"	;
	ResultSet rs = mjxxbean.executeQuery(sql);
	rs.next(); //记录集刚打开时指针位于第一条记录之前
	recordcount=rs.getInt(1);//执行count(*)后该字段中存放记录总数
	rs.close();	
	//计算总页数
	pagecount=(recordcount+pagesize-1)/pagesize;

	//对提交页的处理
	if(request.getParameter("pageno")==null)  //没有输入页码时，页码为1
   	 pageno=1;
	else
	pageno=Integer.parseInt(request.getParameter("pageno"));//字符串转化为整形

	if( pageno> pagecount)
	 pageno = pagecount;
 
	if (pageno<1)
	pageno =1;

	//对前后页的判断
  	if(pageno==1)

 	prep = 1;

	else

  	prep = pageno -1;

 	if(pageno == pagecount)

  	nextp = pagecount;

 	else

  	nextp = pageno +1;
  	//显示分页
%>


<%
	String product_name,product_bb,product_type,product_sn;
	int product_id,product_price,product_discount;
 	//打开数据库	
	sql="select * from mjxxlist order by product_id desc";
 	rs = mjxxbean.executeQuery(sql);
 
 	//要显示页的首纪录
 	i=(pageno-1)*pagesize; 
 	//移动指针到首纪录 
	for (j=0;j<i;j++)
 	rs.next();
 
	//显示纪录，每页显示5条 
 	k=0; 
	out.print("<center>");
	
 	while(k<pagesize && rs.next())
	{
%>
	
	<form method="POST" action="mjxxSaveEdit.jsp "> 
  <table>
 	<tr>
	  <td><input type="text" name="product_id" value=<%=rs.getString(1)%> style="width:0px; height:0px"></td>
      <td><input type="text" name="product_name" value=<%=rs.getString(2)%> style="width:150px; height:25px"></td><td width="20" height="20"></td>
      <td><input type="text" name="product_bb" value=<%=rs.getString(3)%> style="width:200px; height:25px"></td><td width="20" height="20"></td>
	  <td><input type="text" name="product_sn" value=<%=rs.getString(4)%> style="width:60px; height:25px"></td><td width="20" height="20"></td>
      <td><input type="number" name="product_price" value=<%=rs.getInt(5)%> style="width:70px; height:25px"></td><td width="20" height="20"></td>
	  <td><input type="number" name="product_discount" value=<%=rs.getInt(6)%> style="width:70px; height:25px"></td><td width="20" height="20"></td>
	  <td><select size="1" name="product_type">
      <option value="毛衣">毛衣</option>
      <option value="连衣裙">连衣裙</option>
	  <option value="包包">包包</option>
	  <option value="衬衫">衬衫</option>
	  <option value="鞋子">鞋子</option>
      </select></td>
      <td width="100%" align="center" colspan="2"><input type="submit" value="修改资料" name="B1">&nbsp;&nbsp;&nbsp;&nbsp; <input type="reset" value="重置" name="B2">
</td>
    </tr>
  </table>
  </form>
<%
	out.print("<table>");
		out.print("<tr><td> <img src=");
		out.print('\"');
		out.print('\"');
		out.print('\"');
		out.print("width='1040'  height='6'></td></tr>");
		out.print("</table>");  
		k++;
	}


%>
<form action=mjxxedit.jsp method=post>
    <table border=0 width="100%">
        <tr>
           <td width="92"><font size="2">目前页次:<font size="2" color="blue"><%=pageno%></font> /<font size="2" color="blue"><%=pagecount%></font></font></td>
           <td width="88"><font size="2">共<font size="2" color="blue"><%=recordcount%></font>条记录</font></td>
           <td width="68"><font size="2">　</font><a href=mjxxedit.jsp?pageno=<%=prep%>><font size="2" color="#000000">[上一页]</font></a></td>
           <td width="55"><a href=mjxxedit.jsp?pageno=<%=nextp%>><font size="2" color="#000000">[下一页]</font></a></td>
           <td width="55"><a href=mjxxedit.jsp?pageno=1><font size="2" color="#000000">[第一页]</font></a></td>
           <td width="68"><a href=mjxxedit.jsp?pageno=<%=pagecount%>><font size="2" color="#000000">[最后一页]</font></a></td>
           <td width="105"><font size="2">输入页号:</font>
                <input size=3 name=pageno type=text></td>
            <td width="41"><input type=submit name=SEND2 value=查找></td>
         </tr>
      </table>
</form>    
</div>
</div>
</div>
<!-- End ImageReady Slices -->
</body>
</html>
